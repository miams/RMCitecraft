# 1940 US Federal Census Schema
# The 1940 census is one of the most detailed, with 32+ columns

year: 1940
era: "individual_with_ed_sheet"
nara_publication: null  # Digital-only release

form_structure:
  lines_per_side: 40
  sides: ["A", "B"]
  supplemental_lines: [14, 29]
  uses_page: false
  uses_sheet: true
  uses_stamp: false

columns:
  # Header/Location fields (validated at metadata level, not per-person)
  - name: sheet
    data_type: string
    description: "Sheet number with side (e.g., 9A, 9B)"
    required: false  # Validated at metadata level
    is_metadata: true

  - name: enumeration_district
    data_type: string
    description: "Enumeration district number (e.g., 93-76)"
    required: false  # Validated at metadata level
    is_metadata: true

  - name: line_number
    data_type: integer
    description: "Line number (1-40 on each sheet side)"
    required: false  # Helpful but not strictly required per-person
    is_metadata: true

  # Columns 1-6: Household location
  - name: street_name
    column_number: 1
    data_type: string
    description: "Street name"
    required: false

  - name: house_number
    column_number: 2
    data_type: string
    description: "House number"
    required: false

  - name: household_number
    column_number: 3
    data_type: string
    description: "Number in order of visitation"
    required: false

  - name: home_owned_rented
    column_number: 4
    data_type: string
    description: "O=Owned, R=Rented"
    valid_values: ["O", "R"]
    required: false

  - name: home_value_or_rent
    column_number: 5
    data_type: string
    description: "Value if owned, monthly rent if rented"
    required: false

  - name: farm
    column_number: 6
    data_type: string
    description: "Yes/No - lives on a farm"
    valid_values: ["Yes", "No"]
    required: false

  # Columns 7-16: Personal characteristics
  - name: name
    column_number: 7
    data_type: string
    description: "Full name as written (surname first for head)"
    required: true

  - name: relationship
    column_number: 8
    data_type: string
    description: "Relationship to head of household"
    required: true
    abbreviations:
      "H": "Head"
      "W": "Wife"
      "S": "Son"
      "D": "Daughter"

  - name: sex
    column_number: 9
    data_type: string
    description: "M=Male, F=Female"
    valid_values: ["M", "F"]
    required: true

  - name: race
    column_number: 10
    data_type: string
    description: "Race (W=White, Neg=Negro, etc.)"
    valid_values: ["W", "Neg", "In", "Ch", "Jp", "Fil", "Hin", "Kor"]
    required: true

  - name: age
    column_number: 11
    data_type: integer
    description: "Age at last birthday"
    required: true

  - name: marital_status
    column_number: 12
    data_type: string
    description: "S=Single, M=Married, Wd=Widowed, D=Divorced"
    valid_values: ["S", "M", "Wd", "D"]
    required: true

  - name: attended_school
    column_number: 13
    data_type: string
    description: "Yes/No - attended school since March 1, 1940"
    valid_values: ["Yes", "No"]
    required: false

  - name: highest_grade
    column_number: 14
    data_type: string
    description: "Highest grade completed (e.g., H-4, C-2, 8)"
    required: false

  # Columns 15-17: Birthplace and citizenship
  - name: birthplace
    column_number: 15
    data_type: string
    description: "State if US, or country if foreign-born"
    required: true

  - name: citizenship
    column_number: 16
    data_type: string
    description: "If foreign-born: Na=Naturalized, Pa=First papers, Al=Alien, Am=American citizen born abroad"
    valid_values: ["Na", "Pa", "Al", "Am"]
    required: false

  # Columns 17-20: Residence on April 1, 1935
  - name: residence_1935_same_house
    column_number: 17
    data_type: string
    description: "Yes/No - same house as 1935"
    valid_values: ["Yes", "No"]
    required: false

  - name: residence_1935_city_town
    column_number: 18
    data_type: string
    description: "City/town of 1935 residence"
    required: false

  - name: residence_1935_county
    column_number: 19
    data_type: string
    description: "County of 1935 residence"
    required: false

  - name: residence_1935_state
    column_number: 20
    data_type: string
    description: "State of 1935 residence"
    required: false

  - name: on_farm_1935
    data_type: string
    description: "Yes/No - lived on farm in 1935"
    valid_values: ["Yes", "No"]
    required: false

  # Columns 21-24: Employment status
  - name: employed_last_week
    column_number: 21
    data_type: string
    description: "Yes/No - at work week of March 24-30"
    valid_values: ["Yes", "No"]
    required: false

  - name: public_emergency_work
    column_number: 22
    data_type: string
    description: "Yes/No - on public emergency work (WPA/CCC/NYA)"
    valid_values: ["Yes", "No"]
    required: false

  - name: seeking_work
    column_number: 23
    data_type: string
    description: "Yes/No - seeking work"
    valid_values: ["Yes", "No"]
    required: false

  - name: has_job
    column_number: 24
    data_type: string
    description: "Yes/No - has job but not at work"
    valid_values: ["Yes", "No"]
    required: false

  # Columns 25-30: Occupation
  - name: hours_worked_last_week
    column_number: 25
    data_type: integer
    description: "Hours worked week of March 24-30"
    required: false

  - name: weeks_unemployed
    column_number: 26
    data_type: string
    description: "Duration of unemployment"
    required: false

  - name: occupation
    column_number: 27
    data_type: string
    description: "Specific occupation"
    required: false

  - name: industry
    column_number: 28
    data_type: string
    description: "Type of business/industry"
    required: false

  - name: class_of_worker
    column_number: 29
    data_type: string
    description: "PW=Private wage, GW=Government worker, E=Employer, OA=Own account, NP=Unpaid family, Un=Unknown"
    valid_values: ["PW", "GW", "E", "OA", "NP", "Un"]
    required: false

  # Columns 30-32: Income
  - name: weeks_worked_1939
    column_number: 30
    data_type: integer
    description: "Weeks worked in 1939"
    required: false

  - name: income_1939
    column_number: 31
    data_type: integer
    description: "Wage/salary income in 1939"
    required: false

  - name: other_income_over_50
    column_number: 32
    data_type: string
    description: "Yes/No - other income over $50"
    valid_values: ["Yes", "No"]
    required: false

  # Supplemental questions (lines 14 and 29 only)
  - name: supplemental
    data_type: boolean
    description: "True if this person has supplemental questions answered"
    required: false

  - name: father_birthplace
    data_type: string
    description: "Father's birthplace (supplemental)"
    required: false

  - name: mother_birthplace
    data_type: string
    description: "Mother's birthplace (supplemental)"
    required: false

abbreviations:
  "do": "same as above"
  '"': "ditto - same as above"
  "—": "same as above"
  "ditto": "same as above"
  "Wm": "William"
  "Jno": "John"
  "Jas": "James"
  "Chas": "Charles"
  "Eliz": "Elizabeth"
  "Robt": "Robert"
  "Thos": "Thomas"
  "Geo": "George"

valid_values:
  sex: ["M", "F"]
  marital_status: ["S", "M", "Wd", "D"]
  race: ["W", "Neg", "In", "Ch", "Jp", "Fil", "Hin", "Kor"]
  home_owned_rented: ["O", "R"]
  class_of_worker: ["PW", "GW", "E", "OA", "NP", "Un"]

instructions: |
  1940 CENSUS FORM STRUCTURE:

  The 1940 census sheet has 40 lines per side (A/B). Each line is numbered 1-40.

  COLUMN LAYOUT (left to right):
  - Col 1-2: Street name, House number
  - Col 3: Household serial number (increments for each household)
  - Col 4: Home ownership (O=Owned, R=Rented)
  - Col 5: Value (if owned) or Monthly rent (if rented)
  - Col 6: Farm residence (Yes/No)
  - Col 7: NAME - full name (surname first for head, then given names)
  - Col 8: Relationship to head (Head, Wife, Son, Daughter, Mother, Lodger, etc.)
  - Col 9: Sex (M/F)
  - Col 10: Race (W=White, Neg=Negro, In=Indian, etc.)
  - Col 11: Age at last birthday
  - Col 12: Marital status (S=Single, M=Married, Wd=Widowed, D=Divorced)
  - Col 13: Attended school or college since March 1, 1940? (Yes/No)
  - Col 14: Highest grade completed (e.g., H-4=High School 4th year, C-2=College 2nd year)
  - Col 15: Birthplace (state if US, or country)
  - Col 16: Citizenship (if foreign-born: Na=Naturalized, Pa=First papers, Al=Alien, Am=American citizen born abroad)
  - Col 17-20: Residence on April 1, 1935 (Same house? City/Town, County, State, On farm?)
  - Col 21-24: Employment status (At work? Emergency work? Seeking work? Engaged in homework?)
  - Col 25-26: Hours worked, Duration of unemployment if seeking work
  - Col 27-29: Occupation, Industry, Class of worker
  - Col 30-32: Weeks worked in 1939, Income from wages/salary in 1939, Other income over $50

  SUPPLEMENTAL QUESTIONS: Lines 14 and 29 have circled numbers - these individuals get extra questions on the right side of the form (father's birthplace, mother's birthplace, language, veteran status, social security, occupation 5 years ago).

  IMPORTANT READING TIPS:
  - Names often use ditto marks (") for same surname as person above
  - "do" or "—" means "same as above" in many columns
  - House numbers may be blank for rural areas
  - Watch for handwriting variations and period abbreviations
  - Common name abbreviations: Wm=William, Jno=John, Jas=James, Chas=Charles, Eliz=Elizabeth
