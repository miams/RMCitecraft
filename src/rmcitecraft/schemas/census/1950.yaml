# 1950 US Federal Census Schema
# The 1950 census returns to page numbers (not sheets) and uses "stamp" in citations

year: 1950
era: "individual_with_ed_page"
nara_publication: null  # Digital-only release in 2022

# =============================================================================
# FORM VARIANTS
# =============================================================================
# The 1950 census used multiple form variants. The extraction algorithm must
# handle these differently.
#
# FORM P1 - POPULATION AND HOUSING SCHEDULE (Standard)
# -----------------------------------------------------------------------------
# - Used in most of the United States
# - 30 lines per page, one person per line
# - Sample lines (columns 21-33) asked additional questions of ~20% of population
# - KEY INSIGHT: There were 5 versions of Form P1, each with different sample lines:
#     Version A: Lines 1, 6, 11, 16, 21, 26
#     Version B: Lines 2, 7, 12, 17, 22, 27
#     Version C: Lines 3, 8, 13, 18, 23, 28
#     Version D: Lines 4, 9, 14, 19, 24, 29
#     Version E: Lines 5, 10, 15, 20, 25, 30
# - Sample persons should be identified by PRESENCE OF SAMPLE FIELD DATA
#   (columns 21-33), NOT by line number, since we cannot determine which
#   form version was used.
#
# FORM P3 - HOUSEHOLD FORM (Experimental)
# -----------------------------------------------------------------------------
# - Used experimentally in parts of Ohio and Michigan
# - Structured by HOUSEHOLD rather than by line number
# - Each head of household has "Line Number 1" (not unique sequential lines)
# - Multiple households appear on the same page
# - Family relationships stored explicitly (Spouse, Child fields)
# - NO sample line questions - everyone answers all questions
# - FamilySearch structure groups family members under "Spouses and Children"
# - Each person has their own ARK ID that must be followed for full data
# - Citation identifies as "household form" (e.g., "citing household form...")
#
# IDENTIFYING FORM TYPE:
# - RootsMagic citations explicitly mention "household form" in the source name
# - FamilySearch records show "Others on This Record" for other households
# - Household forms show explicit "Spouse:" and "Child:" relationship fields
# - Standard P1 forms use "Relationship to Head" column values
#
# =============================================================================

form_structure:
  lines_per_side: 30
  sides: null  # No A/B sides - just page numbers
  # NOTE: Sample lines varied by form version (5 versions of Form P1).
  # We determine sample persons by checking for sample field data (cols 21-33), not line number.
  # Household forms (P3) have no sample lines - everyone answers all questions.
  supplemental_lines: null
  uses_page: true
  uses_sheet: false
  uses_stamp: true  # Citations use "stamp" instead of "sheet"

columns:
  # Header/Location fields (validated at metadata level, not per-person)
  - name: page_number
    data_type: integer
    description: "Page number (called 'stamp' in citations)"
    required: false  # Validated at metadata level
    is_metadata: true

  - name: enumeration_district
    data_type: string
    description: "Enumeration district number (e.g., 22-27)"
    required: false  # Validated at metadata level
    is_metadata: true

  - name: line_number
    data_type: integer
    description: "Line number (1-30 on each page)"
    required: false  # Helpful but not strictly required per-person
    is_metadata: true

  # Columns 1-6: Household location
  - name: street_name
    column_number: 1
    data_type: string
    description: "Street name"
    required: false

  - name: household_number
    column_number: 2
    data_type: integer
    description: "Serial number of household"
    required: false

  - name: dwelling_number
    column_number: 3
    data_type: integer
    description: "Serial number of dwelling unit"
    required: false

  - name: is_dwelling_on_farm
    column_number: 4
    data_type: string
    description: "Y/yes=Yes lives on farm, blank/no=No"
    valid_values: ["Y", "yes", "no", ""]
    required: false

  - name: status_of_dwelling
    column_number: 4
    data_type: string
    description: "O=Owned, R=Rented, N=No cash rent"
    valid_values: ["O", "R", "N", "no", ""]
    required: false

  - name: farm_3_plus_acres
    column_number: 5
    data_type: string
    description: "house on farm of 3+ acres (Y/yes or blank/no)"
    required: false

  - name: agricultural_questionnaire 
    column_number: 6
    data_type: string
    description: "Agricultural Questionnaire Number"
    required: false

  # Columns 7-12: Personal information
  - name: name
    column_number: 7
    data_type: string
    description: "Full name as written (last name first for head)"
    required: true

  - name: relationship
    column_number: 8
    data_type: string
    description: "Relationship to head of household"
    required: true
    abbreviations:
      "H": "Head"
      "W": "Wife"
      "S": "Son"
      "D": "Daughter"

  - name: race
    column_number: 9
    data_type: string
    description: "W=White, Neg=Negro, Ind=Indian, Jp=Japanese, Ch=Chinese, Fil=Filipino"
    valid_values: ["W", "Neg", "Ind", "Jp", "Ch", "Fil"]
    required: true

  - name: sex
    column_number: 10
    data_type: string
    description: "M=Male, F=Female"
    valid_values: ["M", "F"]
    required: true

  - name: age
    column_number: 11
    data_type: integer
    description: "Age at last birthday"
    required: true

  - name: marital_status
    column_number: 12
    data_type: string
    description: "M/Mar=Married, Wd=Widowed, D=Divorced, Sep=Separated, S/Nev=Single (never married)"
    valid_values: ["M", "Mar", "Married", "Wd", "Widowed", "D", "Div", "Divorced", "Sep", "Separated", "S", "Nev", "Single", "Never"]
    required: true

  # Columns 13-14: Birthplace and citizenship
  - name: birthplace
    column_number: 13
    data_type: string
    description: "State if US-born, or country if foreign-born"
    required: true

  - name: naturalized
    column_number: 14
    data_type: string
    description: "Is person naturalized? Yes, No, AP for born-abroad to American parents"
    valid_values: ["Yes", "No", "AP", ""]
    required: false

  # Columns 15-20: Employment status for persons 14+ years old
  - name: employment_status
    column_number: 15
    data_type: string
    description: "What person was doing most of last week: W=Working, H=Keeping house, Ot=Other"
    valid_values: ["W", "H", "Ot", ""]
    required: false

  - name: any_work_last_week
    column_number: 16
    data_type: string
    description: "Did person do any work at all last week? Y/N"
    valid_values: ["Y", "N", "yes", "no", ""]
    required: false

  - name: looking_for_work
    column_number: 17
    data_type: string
    description: "Was person looking for work? Y/N"
    valid_values: ["Y", "N", "yes", "no", ""]
    required: false

  - name: has_job_not_at_work
    column_number: 18
    data_type: string
    description: "Has job or business but not at work last week? Y/N"
    valid_values: ["Y", "N", "yes", "no", ""]
    required: false

  - name: hours_worked
    column_number: 19
    data_type: integer
    description: "Hours worked last week"
    required: false

  - name: occupation
    column_number: 20a
    data_type: string
    description: "What kind of work (specific occupation)"
    required: false

  - name: industry
    column_number: 20b
    data_type: string
    description: "What kind of business or industry"
    required: false

  - name: class_of_worker
    column_number: 20c
    data_type: string
    description: "P=Private wage/salary, G=Government, O=Own business, U=Unpaid family worker"
    valid_values: ["P", "G", "O", "U"]
    required: false

  # Sample line questions (sample lines vary by form version)
  # Columns 21-28: Residence and education
  - name: is_sample_person
    data_type: boolean
    description: "True if this is a sample person with additional questions"
    required: false

  - name: residence_1949_same_house
    column_number: 21
    data_type: string
    description: "Living in same house as April 1, 1949? Y/N"
    valid_values: ["Y", "N", "yes", "no", ""]
    required: false

  - name: residence_1949_on_farm
    column_number: 22
    data_type: string
    description: "Living on farm April 1, 1949? Y/N"
    valid_values: ["Y", "N", "yes", "no", ""]
    required: false

  - name: residence_1949_same_county
    column_number: 23
    data_type: string
    description: "Living in same county April 1, 1949? Y/N"
    valid_values: ["Y", "N", "yes", "no", ""]
    required: false

  - name: residence_1949_different_location
    column_number: 24
    data_type: string
    description: "If different location April 1, 1949: county/state or foreign country"
    required: false

  - name: father_birthplace
    column_number: 25a
    data_type: string
    description: "Father's birthplace - state or country"
    required: false

  - name: mother_birthplace
    column_number: 25b
    data_type: string
    description: "Mother's birthplace - state or country"
    required: false

  - name: highest_grade_attended
    column_number: 26
    data_type: string
    description: "Highest grade of school attended"
    required: false

  - name: completed_grade
    column_number: 27
    data_type: string
    description: "Did person complete that grade? Y/N"
    valid_values: ["Y", "N", "yes", "no", ""]
    required: false

  - name: school_attendance
    column_number: 28
    data_type: string
    description: "Attended school since February 1? Y/N"
    valid_values: ["Y", "N", "yes", "no", ""]
    required: false

  # Columns 29-33: Sample line, ages 14+ (employment/income history)
  - name: weeks_looking_for_work
    column_number: 29
    data_type: integer
    description: "Weeks looking for work in past 12 months"
    required: false

  - name: weeks_worked_1949
    column_number: 30
    data_type: integer
    description: "Weeks worked in 1949"
    required: false

  - name: income_wages_1949
    column_number: 31
    data_type: integer
    description: "Income from wages/salary in 1949"
    required: false

  - name: income_self_employment_1949
    column_number: 32
    data_type: integer
    description: "Income from self-employment in 1949"
    required: false

  - name: income_other_1949
    column_number: 33
    data_type: integer
    description: "Income from other sources in 1949"
    required: false

  - name: veteran_status
    data_type: string
    description: "Veteran status and war served"
    required: false

abbreviations:
  "do": "same as above"
  '"': "ditto - same as above"
  "â€”": "same as above"
  "ditto": "same as above"
  "Wm": "William"
  "Jno": "John"
  "Jas": "James"
  "Chas": "Charles"
  "Eliz": "Elizabeth"
  "Robt": "Robert"
  "Thos": "Thomas"
  "Geo": "George"
  "Jr": "Junior"
  "Sr": "Senior"

valid_values:
  sex: ["M", "F"]
  marital_status: ["M", "Mar", "Married", "Wd", "Widowed", "D", "Div", "Divorced", "Sep", "Separated", "S", "Nev", "Single", "Never"]
  race: ["W", "Neg", "Negro", "Ind", "Indian", "Jp", "Japanese", "Ch", "Chinese", "Fil", "Filipino"]
  status_of_dwelling: ["O", "R", "N", "no", ""]
  class_of_worker: ["P", "G", "O", "U"]
  # Note: Many yes/no fields accept "yes", "no", "Y", or blank for flexibility with LLM outputs

instructions: |
  1950 CENSUS FORM STRUCTURE:

  The 1950 census used two main form types: P1 (standard) and P3 (household form).
  Unlike 1940, it uses page numbers (not sheets A/B). Citations often use "stamp"
  instead of "page" for the page reference.

  =============================================================================
  FORM P1 - STANDARD POPULATION AND HOUSING SCHEDULE
  =============================================================================

  30 lines per page, one person per line.

  COLUMN LAYOUT - FOR ALL PERSONS (Cols 1-14):
  - Col 1: Street name
  - Col 2: House/apartment number
  - Col 3: Serial number of dwelling unit
  - Col 4: House on farm or ranch? (Y or blank)
  - Col 5: House on 3+ acres? (Y or blank)
  - Col 6: Agricultural Questionnaire number
  - Col 7: NAME - Last name first for head, given names follow
  - Col 8: Relationship to head (Head, Wife, Son, Daughter, Lodger, etc.)
  - Col 9: Race (W=White, Neg=Negro, Ind=Indian, etc.)
  - Col 10: Sex (M/F)
  - Col 11: Age at last birthday
  - Col 12: Marital status (M=Married, Wd=Widowed, D=Divorced, Sep=Separated, S=Single)
  - Col 13: Birthplace (state if US, country if foreign)
  - Col 14: Naturalization status (if foreign-born): Yes, No, AP

  COLUMN LAYOUT - FOR PERSONS 14+ (Cols 15-20):
  - Col 15: Employment status last week (W=Working, H=Keeping house, Ot=Other)
  - Col 16: Any work at all last week? (Y/N)
  - Col 17: Looking for work? (Y/N)
  - Col 18: Has job but not at work? (Y/N)
  - Col 19: Hours worked last week
  - Col 20: Occupation (20a), Industry (20b), Class of worker (20c)

  SAMPLE LINE QUESTIONS (Cols 21-33) - FORM P1 ONLY:
  Sample persons have additional questions. There were 5 versions of Form P1,
  each with different sample lines to randomize the ~20% sample:
    - Version A: Lines 1, 6, 11, 16, 21, 26
    - Version B: Lines 2, 7, 12, 17, 22, 27
    - Version C: Lines 3, 8, 13, 18, 23, 28
    - Version D: Lines 4, 9, 14, 19, 24, 29
    - Version E: Lines 5, 10, 15, 20, 25, 30

  IMPORTANT: Identify sample persons by checking for presence of columns 21-33
  data, NOT by line number (since form version cannot be determined from data).

  Sample line columns:
  - Col 21: Same house as April 1, 1949? (Y/N)
  - Col 22: On farm April 1, 1949? (Y/N)
  - Col 23: Same county April 1, 1949? (Y/N)
  - Col 24: If different, county/state/country
  - Col 25: Father's birthplace (25a), Mother's birthplace (25b)
  - Col 26: Highest grade of school attended
  - Col 27: Completed that grade? (Y/N)
  - Col 28: School attendance since February 1? (Y/N)
  - Col 29-33: Employment/income history (ages 14+)

  =============================================================================
  FORM P3 - HOUSEHOLD FORM (Experimental - Ohio and Michigan)
  =============================================================================

  Used experimentally in parts of Ohio and Michigan. Different structure:
  - Organized by HOUSEHOLD, not sequential line numbers
  - Each head of household has "Line Number 1"
  - Multiple households appear on the same page
  - Family relationships stored as explicit fields (Spouse, Child)
  - NO sample lines - everyone answers all questions

  IDENTIFYING HOUSEHOLD FORMS:
  - RootsMagic citations include "household form" in the source name
  - FamilySearch shows "Others on This Record" section for other households
  - Relationships shown as "Spouse: [Name]" and "Child: [Name]" fields

  EXTRACTION DIFFERENCES FOR HOUSEHOLD FORMS:
  - Cannot use line numbers to identify household boundaries
  - Must follow individual ARK links to get each person's full data
  - Family members grouped under target person, not by line sequence
  - Other households on same page shown in "Others on This Record" section

  CITATION FORMAT:
  Standard P1: "1950 U.S. census, [County], [State], [Township], E.D. [ED], stamp [N], line [line]"
  Household form: "1950 U.S. census, [County], [State], [Township], citing household form E.D. [ED], stamp [N]"

  =============================================================================
  IMPORTANT READING TIPS
  =============================================================================
  - First census released digitally (2022), image quality varies
  - Names use ditto marks for same surname as previous line
  - Rural areas may have descriptive addresses instead of street numbers
  - Watch for Sample line persons which have extra data on right side (cols 21-33)
  - Common abbreviations: Wm=William, Jno=John, Jas=James, Jr=Junior, Sr=Senior
